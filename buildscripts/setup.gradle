def renameConfig = [
        templatePackage: "template",
        newPackage     : "domain.yourname.app",
]

task renameAppPackage(type: Copy) {
    description "Renames the template package in the app module."
    group "Template Setup"

    def newPackageAsDirectory = renameConfig.newPackage.replaceAll("\\.", "/")

    from("${rootDir}/app/src/main/java/${renameConfig.templatePackage}")

    into("${rootDir}/app/src/main/java/${newPackageAsDirectory}")

    filter { line ->
        line.replaceAll(
                "package ${renameConfig.templatePackage}",
                "package ${renameConfig.newPackage}"
        )
    }

    delete("${rootDir}/app/src/main/java/${renameConfig.templatePackage}")
}
